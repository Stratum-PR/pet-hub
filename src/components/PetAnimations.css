/* Pawprint Animation - Slow upward floating */
.pawprint-animation {
  position: fixed;
  bottom: -60px;
  animation: pawprintFloat var(--animation-duration, 3500ms) ease-out forwards;
  pointer-events: none;
  z-index: 9998;
  color: hsl(var(--primary));
  opacity: var(--start-opacity, 0.9);
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

@keyframes pawprintFloat {
  0% {
    transform: translateY(0) scale(0.7);
    opacity: var(--start-opacity, 0.9);
  }
  30% {
    transform: translateY(-30vh) scale(0.9);
    opacity: calc(var(--start-opacity, 0.9) * 0.8);
  }
  70% {
    transform: translateY(-70vh) scale(1);
    opacity: calc(var(--start-opacity, 0.9) * 0.4);
  }
  100% {
    transform: translateY(-100vh) scale(0.5);
    opacity: var(--end-opacity, 0);
  }
}

/* Cat Walking Animation - Slow walk across header */
.cat-walking-animation {
  position: fixed;
  top: 20px; /* Position at top of header */
  left: var(--start-x, -60px);
  animation: catWalk var(--animation-duration, 6500ms) linear forwards;
  pointer-events: none;
  z-index: 9998;
  color: hsl(var(--primary));
  opacity: 0.7;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
}

@keyframes catWalk {
  0% {
    left: var(--start-x, -60px);
    transform: scaleX(1) translateY(0);
  }
  25% {
    transform: scaleX(1) translateY(-2px);
  }
  50% {
    transform: scaleX(1) translateY(0);
  }
  75% {
    transform: scaleX(1) translateY(-2px);
  }
  100% {
    left: var(--end-x, calc(100vw + 60px));
    transform: scaleX(1) translateY(0);
  }
}

/* Subtle walking bounce effect */
.cat-walking-animation svg {
  animation: catBounce 0.6s ease-in-out infinite;
}

@keyframes catBounce {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-2px) rotate(1deg);
  }
}

/* Cat Walking Video - Remove green background using chroma key effect */
.cat-walking-video {
  /* Method 1: Use mix-blend-mode screen to make green areas transparent */
  /* This works by blending with white/light backgrounds */
  mix-blend-mode: screen;
  filter: 
    brightness(1.2)
    contrast(1.3)
    saturate(1.1);
}

.cat-walking-container {
  /* Ensure container doesn't affect blend mode */
  mix-blend-mode: normal;
  isolation: isolate;
  /* Add a subtle backdrop to help with blend mode */
  background: linear-gradient(to bottom, transparent 0%, rgba(255, 255, 255, 0.1) 100%);
  /* GPU acceleration hints */
  will-change: transform;
  transform: translateZ(0); /* Force GPU layer */
}

.cat-walking-video {
  /* GPU acceleration for canvas */
  will-change: contents;
  transform: translateZ(0);
}

.pawprint-walking {
  /* GPU acceleration for pawprints */
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* Alternative method: If screen blend mode doesn't work well, use multiply */
.cat-walking-video.multiply-mode {
  mix-blend-mode: multiply;
  filter: 
    brightness(1.4)
    contrast(1.2)
    saturate(0.8);
}

/* Method 3: Use CSS mask for more precise green removal (if supported) */
@supports (mask-image: none) {
  .cat-walking-video.mask-mode {
    mix-blend-mode: normal;
    filter: 
      hue-rotate(180deg)
      saturate(0.5)
      brightness(1.2);
    /* Note: CSS mask would require a separate mask image */
  }
}

/* Ensure animations don't interfere with page interactions */
.pet-animations-container {
  pointer-events: none;
}

.pet-animations-container > * {
  pointer-events: none;
}
